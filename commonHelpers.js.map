{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const imgCardTemplate = img => {\n  return `<li class=\"gallery-item\">\n            <a href=\"${img.largeImageURL}\">\n              <img\n                class=\"gallery-item-img\"\n                src=\"${img.webformatURL}\"\n                alt=\"${img.tags}\"\n                width=\"360\"\n              />\n            </a>\n            <ul class=\"img-info-list\">\n              <li>\n                <p class=\"img-data-name\">Likes</p>\n                <p class=\"img-data\">${img.likes}</p>\n              </li>\n              <li>\n                <p class=\"img-data-name\">Views</p>\n                <p class=\"img-data\">${img.views}</p>\n              </li>\n              <li>\n                <p class=\"img-data-name\">Comments</p>\n                <p class=\"img-data\">${img.comments}</p>\n              </li>\n              <li>\n                <p class=\"img-data-name\">Downloads</p>\n                <p class=\"img-data\">${img.downloads}</p>\n              </li>\n            </ul>\n          </li>`;\n};\n\nexport default function imgCardsTemplate(arr) {\n  return arr.map(imgCardTemplate).join('');\n}\n","export default function get(string) {\n  if (string === '') return Promise.reject('Input can not be blank.');\n\n  const API_KEY = '44691469-d7e9dab06c3e716fb34c6ceb9';\n  const params = string =>\n    new URLSearchParams({\n      key: API_KEY,\n      q: string,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n\n  return fetch(`https://pixabay.com/api?${params(string).toString()}`);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport imgCardsTemplate from './js/render-functions';\nimport fetchPics from './js/pixabay-api';\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-wrapper');\nconst modal = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst handleFormSubmit = e => {\n  e.preventDefault();\n  loader.classList.toggle('hidden');\n  gallery.innerHTML = '';\n  const keyWord = form.keyWord.value.trim();\n\n  const renderPics = () =>\n    fetchPics(keyWord)\n      .then(response => response.json())\n      .then(({ hits }) => {\n        if (hits.length > 0) {\n          gallery.insertAdjacentHTML('afterbegin', imgCardsTemplate(hits));\n\n          modal.refresh();\n        } else {\n          iziToast.show({\n            title: '<b>Oops!</b>',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: 'tomato',\n            position: 'center',\n          });\n        }\n      })\n      .catch(error => {\n        iziToast.show({\n          title: '<b>Error:</b>',\n          message: error,\n          backgroundColor: 'tomato',\n          position: 'center',\n        });\n      })\n      .finally(() => {\n        loader.classList.toggle('hidden');\n        form.keyWord.value = '';\n      });\n\n  renderPics();\n};\n\nform.addEventListener('submit', handleFormSubmit);\n"],"names":["imgCardTemplate","img","imgCardsTemplate","arr","get","string","API_KEY","form","gallery","loader","modal","SimpleLightbox","handleFormSubmit","keyWord","fetchPics","response","hits","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAkBC,GACf;AAAA,uBACcA,EAAI,aAAa;AAAA;AAAA;AAAA,uBAGjBA,EAAI,YAAY;AAAA,uBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAOOA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,sCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,sCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,iBAMpC,SAASC,EAAiBC,EAAK,CAC5C,OAAOA,EAAI,IAAIH,CAAe,EAAE,KAAK,EAAE,CACzC,CCjCe,SAASI,EAAIC,EAAQ,CAClC,GAAIA,IAAW,GAAI,OAAO,QAAQ,OAAO,yBAAyB,EAElE,MAAMC,EAAU,qCAUhB,OAAO,MAAM,4BATED,GACb,IAAI,gBAAgB,CAClB,IAAKC,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,GAE4CA,CAAM,EAAE,SAAQ,CAAE,EAAE,CACrE,CCNA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAQ,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAmB,GAAK,CAC5B,EAAE,eAAc,EAChBH,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,UAAY,GACpB,MAAMK,EAAUN,EAAK,QAAQ,MAAM,KAAI,GAEpB,IACjBO,EAAUD,CAAO,EACd,KAAKE,GAAYA,EAAS,MAAM,EAChC,KAAK,CAAC,CAAE,KAAAC,KAAW,CACdA,EAAK,OAAS,GAChBR,EAAQ,mBAAmB,aAAcN,EAAiBc,CAAI,CAAC,EAE/DN,EAAM,QAAO,GAEbO,EAAS,KAAK,CACZ,MAAO,eACP,QACE,2EACF,gBAAiB,SACjB,SAAU,QACtB,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACdD,EAAS,KAAK,CACZ,MAAO,gBACP,QAASC,EACT,gBAAiB,SACjB,SAAU,QACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbT,EAAO,UAAU,OAAO,QAAQ,EAChCF,EAAK,QAAQ,MAAQ,EAC7B,CAAO,IAGP,EAEAA,EAAK,iBAAiB,SAAUK,CAAgB"}